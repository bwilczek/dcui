(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{24:function(e,t,n){e.exports=n(54)},29:function(e,t,n){},31:function(e,t,n){},54:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(23),s=n.n(i),c=(n(29),n(10)),o=n.n(c),l=n(7),u=n(12),p=n(3),v=n(4),m=n(5),h=n(6),d=(n(31),n(32),function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{id:"loading"},this.props.loadingMessage)}}]),n}(r.a.Component)),f=n(13),E=n.n(f),g=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){return r.a.createElement("tr",{"data-service":this.props.data.service},r.a.createElement("td",null,this.props.data.service),r.a.createElement("td",null,this.props.data.image),r.a.createElement("td",null,this.props.data.container_name),r.a.createElement("td",null,this.props.data.status),r.a.createElement("td",null,r.a.createElement(E.a,{name:"play",title:"Start",onClick:this.props.containerAction.bind(this,"start",[this.props.data.service])}),r.a.createElement(E.a,{name:"stop",title:"Stop",onClick:this.props.containerAction.bind(this,"stop",[this.props.data.service])})))}}]),n}(r.a.Component),b=n(57),j=n(56),k=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(){return Object(p.a)(this,n),t.apply(this,arguments)}return Object(v.a)(n,[{key:"render",value:function(){var e=this,t=function(t){return"__all"===e.props.selectedEnvironment||e.props.environments[e.props.selectedEnvironment].includes(t.service)},n=function(t){t.persist(),e.props.setSelectedEnvironment(t.target.getAttribute("data-environment"))},a=[r.a.createElement(b.a,{key:"__all",active:"__all"===this.props.selectedEnvironment,"data-environment":"__all",variant:"light",onClick:function(t){return e.props.setSelectedEnvironment("__all")}},"ALL")];for(var i in this.props.environments)a.push(r.a.createElement(b.a,{key:i,active:this.props.selectedEnvironment===i,"data-environment":i,variant:"light",onClick:n},i));return r.a.createElement("div",null,r.a.createElement(j.a,null,a),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Service"),r.a.createElement("th",null,"Image"),r.a.createElement("th",null,"Container"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Actions"))),r.a.createElement("tbody",null,this.props.services.filter(t).map((function(t){return r.a.createElement(g,{key:t.service,data:t,containerAction:e.props.containerAction})})))),r.a.createElement(j.a,null,r.a.createElement(b.a,{onClick:function(n){var a=e.props.services.filter(t).map((function(e){return e.service}));e.props.containerAction("start",a)}},"Start services"),r.a.createElement(b.a,{onClick:function(n){var a=e.props.services.filter(t).map((function(e){return e.service}));e.props.containerAction("stop",a)}},"Stop services")))}}]),n}(r.a.Component),O=n(36),S=function(e){Object(h.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(p.a)(this,n),(a=t.call(this,e)).state={loadingMessage:"Initializing...",status:{},selectedEnvironment:"__all"},a}return Object(v.a)(n,[{key:"componentDidMount",value:function(){this.fetchStatus()}},{key:"fetchStatus",value:function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState((function(e){return Object(l.a)({},e,{loadingMessage:"Fetching status..."})})),e.next=4,O.get("/api/status");case 4:t=e.sent,this.setState((function(e){return Object(l.a)({},e,{loadingMessage:null,status:t.data})})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),this.setState((function(e){return Object(l.a)({},e,{loadingMessage:null})})),console.error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"containerAction",value:function(){var e=Object(u.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,this.setState((function(e){return Object(l.a)({},e,{loadingMessage:'Executing action "'.concat(t,'" on services: ').concat(n.join(","))})})),e.next=4,O.post("/api/container/".concat(n.join(","),"/").concat(t));case 4:this.fetchStatus(),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState((function(e){return Object(l.a)({},e,{loadingMessage:null})})),console.error(e.t0);case 11:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setSelectedEnvironment",value:function(e){this.setState((function(t){return Object(l.a)({},t,{selectedEnvironment:e})}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},null!==this.state.loadingMessage?r.a.createElement(d,{loadingMessage:this.state.loadingMessage}):r.a.createElement(k,{services:this.state.status.services,environments:this.state.status.environments,selectedEnvironment:this.state.selectedEnvironment,setSelectedEnvironment:this.setSelectedEnvironment.bind(this),containerAction:this.containerAction.bind(this)}))}}]),n}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.17c6d25b.chunk.js.map